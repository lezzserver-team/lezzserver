# Serve

all files that stored to lezzserver can be served as public url
lets add a query to listing all stored files

:::info
all files stored in default table called ``storage``. it available by default in your ``schema.prisma`` generated by Lezzserver
:::

```js title="lezzserver/storage.ts
import { query } from '@lezzserver/server'
export const listFiles = query({
  handler:async (ctx) => {
    const files =  await db.storage.findMany()
    return files.map((f) => {
      return {
        ...f,
        url: ctx.storage.getUrl(f)
      }
    })
  }
})

```

now we can display our files to the frontend
```tsx title="App.tsx"
import { useQuery } from '@lezzserver/react'
export default function App() {
  const { data: files, isLoading: fileLoading } = useQuery(api.storage.listFiles)
  return (
    <div>
      {
        files.map((file) => <img src={file.url} />)
      }
    </div>
  )
}

```
